<!DOCTYPE html>
<html lang="en">
<head>
          <title>jameslmart.in - Explorations with Pelican</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" type="text/css" href="http://localhost:8000/theme/site.css" />




    <meta name="tags" content="tech" />
    <meta name="tags" content="python" />
    <meta name="tags" content="css" />

</head>

<body id="index" class="flex-container">
        <div id="banner">
          <div id="sitename">
                  <h1><a href="http://localhost:8000/">jameslmart.in</a></h1>
                  <strong>researcher, engineer, scientist</strong>
          </div><!-- /#banner -->

          <nav id="menu"><ul>
              <span class="menu-page"><a href="http://localhost:8000/about/">About</a></span>
              <span class="menu-page"><a href="http://localhost:8000/projects/">Projects</a></span>
          </ul></nav><!-- /#menu -->
        </div>
<section class="flex-item">
  <br>
  <footer class="post-info">
    <time class="published" datetime="2019-10-17T13:41:00-04:00">
      Thu 17 October 2019
    </time>
    <address class="vcard author">
      By           <a class="url fn" href="http://localhost:8000/author/james/">james</a>
    </address>
    <div class="category">
        Category: <a href="http://localhost:8000/category/tech.html">tech</a>
    </div>
    <div class="tags">
        Tags:
            <a href="http://localhost:8000/tag/tech/">tech</a>
            <a href="http://localhost:8000/tag/python/">python</a>
            <a href="http://localhost:8000/tag/css/">css</a>
    </div>
  </footer><!-- /.post-info -->
  <header>
    <h2 class="entry-title">
      <a href="http://localhost:8000/pelican/" rel="bookmark"
         title="Permalink to Explorations with Pelican">Explorations with Pelican</a></h2>
 
  </header>
  <div class="entry-content">
    <p>There are many get-started guides for Pelican. They will all pretty much get you up and going with creating a well-organized blog, but most lack in exploring anything beyond the quickstart that is provided by Pelican. A couple others blogs have documented their explorations and Pelican development set ups, but I figured I would add mine to the ethos.</p>
<p>First, I'm not a fan of maintaining different development environments on my machine. Spinning up a Docker container with a specific version of Python installed, along with whatever packages I may need, such as Pelican, and mounting both the current directory with my content and the directory with my themes into the container has been the easiest way for me to get developing and blogging. Any modifications to the local directories are mirrored in the container. Any static HTML generated by Pelican running the container are mirrored locally. Pretty nifty. I'm a big fan of Makefiles, so I wrote a few commands to help me regenerate the site after modifying template code.</p>
<p>A diagram of my Docker setup:  </p>
<p><img alt="picture of docker setup" src="http://localhost:8000/images/pelican_docker_setup.png">  </p>
<p>For example, this command can be run when I'm in my running Docker container. This will regenerate the static files and serve the website at <code>localhost:8000</code>:</p>
<div class="highlight"><pre><span></span><span class="n">serve</span><span class="p">:</span> <span class="o">##</span> <span class="n">Regen</span> <span class="k">and</span> <span class="n">serve</span> <span class="n">blog</span><span class="p">,</span> <span class="k">to</span> <span class="n">be</span> <span class="n">run</span> <span class="k">in</span> <span class="n">the</span> <span class="n">Docker</span> <span class="n">container</span>
    <span class="n">pelican</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="k">source</span><span class="o">/</span><span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="k">public</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">pelicanconf</span><span class="p">.</span><span class="n">py</span>
    <span class="n">pelican</span> <span class="o">-</span><span class="n">l</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="k">source</span><span class="o">/</span><span class="n">content</span> <span class="o">-</span><span class="n">o</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="k">public</span> <span class="o">-</span><span class="n">s</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">app</span><span class="o">/</span><span class="n">pelicanconf</span><span class="p">.</span><span class="n">py</span> <span class="o">-</span><span class="n">p</span> <span class="mi">8000</span> <span class="o">-</span><span class="n">b</span> <span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span><span class="p">.</span><span class="mi">0</span>
</pre></div>


<p>I haven't researched a way to get Pelican to watch for changes and auto-regen the static HTML ala nodemon.</p>
<p>Second, I have had to ramp up when it comes to custom Pelican themes. After being inspired by LOW&larr;TECH MAGAZINE's brilliant custom theme, I attempted to integrate existing themes based on Bootstrap into my own site. I found this to be extraordinarily clunky due to having to rewrite the HTML templates to adhere to Bootstrap's classnames. Though not huge, minified Bootstrap 4 is around 147KB and is a bit more than I need. A landing page and blog roll can be done fairly easily with flexboxes, given you think working with flexboxes is easy.</p>
<p>I decided to start with the <code>simple</code> theme that is shipped with Pelican - but since it is pre-installed, the code for the templates does not exist in a place where it can be explored and expanded. I cloned the Pelican project into a new directory, copied the code for the simple templates into a local <code>pelican-themes</code> directory, and renamed it <a href="https://github.com/jameslmartin/mod"><code>mod</code></a>.</p>
<p>The first step to adding custom CSS on top of the simple theme is to create a file in the newly created directory under <code>static/&lt;name_of_stylesheet&gt;.css</code>. If you kept the theme name <code>simple</code> and named your css <code>site.css</code>, your theme's directory structure should look like something like this:</p>
<div class="highlight"><pre><span></span><span class="n">pelican</span><span class="o">-</span><span class="n">themes</span><span class="o">/</span>
  <span class="err">└──</span> <span class="k">simple</span><span class="o">/</span>
      <span class="err">├──</span> <span class="k">static</span><span class="o">/</span>
      <span class="err">│</span>   <span class="err">└──</span> <span class="n">site</span><span class="p">.</span><span class="n">css</span>
      <span class="err">└──</span> <span class="n">templates</span><span class="o">/</span>
          <span class="p">...</span>
          <span class="n">base</span><span class="p">.</span><span class="n">html</span>
          <span class="n">article</span><span class="p">.</span><span class="n">html</span>
          <span class="k">index</span><span class="p">.</span><span class="n">html</span>
          <span class="p">...</span>
</pre></div>


<p>The templates that the <code>simple</code> theme give you are a good place to start. You can then modify <code>site.css</code> to add styling to the classes and elements you create or change in the templates. As a heads up, the vanilla themes ship with lots of template HTML files. Decoding them may take a little bit of time, I'm a novice to Jinja templating so it took a fair bit of stepping through the files to get a feel for how things get generated. Hierarchically, <code>base.html</code> is the starting point for all your generated HTML pages. The header and footer of every page is defined here. Your menu, if you have one, is also located here. I found that these were the main components I had to work with. <code>article.html</code> will have the template of most of your posts. Articles are separate from pages. Pages do not have a by-line. "About" pages are an example.</p>
<p>Another quirk of Pelican I discovered while modifying my theme is that code blocks, like the ones used above, are rendered into divs that do not play nicely with flex boxes. If you notice this page isn't as slick looking on mobile, it's likely because of how code blocks are rendered by Pelican. I'm considering digging deeper into this and submitting a PR.</p>
  </div><!-- /.entry-content -->
</section>
        <hr width="66%" align="left" margin-left="10px">
        <footer id="contentinfo" class="flex-item-footer">
                <small>
                Find me on...
                <span class="social"><a href="https://github.com/jameslmartin">GitHub</a></span>
                <span class="social"><a href="https://keybase.io/jlmartin">Keybase</a></span>
                <span class="social"><a href="https://www.instagram.com/jameslmartin/">Instagram</a></span>
                </br>
                <i>Proudly powered by <a href="http://getpelican.com/">Pelican</a>,
                which takes great advantage of <a href="http://python.org">Python</a>.</i>
                <small>
        </footer><!-- /#contentinfo -->
</body>
</html>